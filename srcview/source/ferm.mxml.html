<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>ferm.mxml</title>
<link rel="stylesheet" type="text/css" href="../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLComponent_Tag">&lt;s:Application</span><span class="MXMLDefault_Text"> xmlns:fx="</span><span class="MXMLString">http://ns.adobe.com/mxml/2009</span><span class="MXMLDefault_Text">"
               xmlns:s="</span><span class="MXMLString">library://ns.adobe.com/flex/spark</span><span class="MXMLDefault_Text">"
               xmlns:mx="</span><span class="MXMLString">library://ns.adobe.com/flex/mx</span><span class="MXMLDefault_Text">"
               width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" applicationComplete="</span><span class="ActionScriptDefault_Text">createWorld</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
               viewSourceURL="</span><span class="MXMLString">srcview/index.html</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;fx:Script&gt;</span>
        &lt;![CDATA[
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">isometric</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DrawnIsoTile</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">isometric</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GraphicTile</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">isometric</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IsoWorld</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">isometric</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Point3D</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DragSource</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IUIComponent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IVisualElement</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DragEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CursorManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DragManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rpc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ResultEvent</span>;
            
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">spark</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">components</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Group</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">spark</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">components</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Image</span>;
            
            
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">world</span>:<span class="ActionScriptDefault_Text">IsoWorld</span>;                <span class="ActionScriptComment">//    новый изомир
</span>            <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">harvest</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptComment">// режим удаления
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">] </span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"images/shovelCursor.png"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">shovelCursor</span>:<span class="ActionScriptDefault_Text">Class</span>;
            
            <span class="ActionScriptASDoc">/**
             *    Функция создания нового мира.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createWorld</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//    Создаем новый мир.
</span>                <span class="ActionScriptDefault_Text">world</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">IsoWorld</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 743;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 130;
                <span class="ActionScriptDefault_Text">addElement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">world</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Заполняем уровень пола мира изоплитками.
</span>                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> 13; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> 13; <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptComment">//    Создаем плитку, назначаем ей позицию и добавляем.
</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tile</span>:<span class="ActionScriptDefault_Text">DrawnIsoTile</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">DrawnIsoTile</span><span class="ActionScriptBracket/Brace">(</span>48<span class="ActionScriptOperator">,</span> 0xcccccc<span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">tile</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">position</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">*</span> 48<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">*</span> 48<span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addElementToFloor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tile</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">//    Назначаем обработчики для работы с миром.
</span>                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DRAG_ENTER</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">dragEnterHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DRAG_OVER</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">dragOverHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DRAG_DROP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">dragDropHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CLICK</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">removeTile</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Загружаем предыдущий мир.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">obj</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">param</span>: <span class="ActionScriptString">"er"</span><span class="ActionScriptBracket/Brace">}</span>;
                <span class="ActionScriptDefault_Text">loadPreviosWorld</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">send</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик загрузки предыдущего сохраненного мира.
             *    event.result.ferm.seeds - XML объект, ответа сервера, формат - ArrayCollection.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">loadPreviosWorld_resultHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ResultEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//    Загружаем только если в мире есть объекты.
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"noObjects"</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ferm</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">seeds</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loadPreviosWorld</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ferm</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Устанавливаем таймеры на взросление саженцев.
</span>                <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setGrowthOnPreviosWorld</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - переноска саженца началась.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">seed_dragStart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">// Собираем данные, которые мы отдадим в приёмник.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">myData</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">myData</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sourceName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span>;
                
                <span class="ActionScriptComment">//    Выбираем в зависимости от саженца rартинку видимую при переноске.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">img</span>:<span class="ActionScriptDefault_Text">Image</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Image</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                
                <span class="ActionScriptDefault_Text">img</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dragImage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">source</span>;
                <span class="ActionScriptDefault_Text">img</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dragImage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span>;
                <span class="ActionScriptDefault_Text">img</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dragImage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span>;
                
                <span class="ActionScriptComment">//    Создаём хранилище данных добавляем данные и именуем их.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ds</span>:<span class="ActionScriptDefault_Text">DragSource</span><span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">DragSource</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">ds</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addData</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">myData</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"objectData"</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Начинаем "тащить". 
</span>                <span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">doDrag</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IUIComponent</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ds</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">img</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - курсор с саженцом зашел в пределы мира.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">dragEnterHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>    
                <span class="ActionScriptComment">//    Проверяем изометрические ошибки при посадке.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">noIsoErrors</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkDropSeedErrors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">noIsoErrors</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dragSource</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hasFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'objectData'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">//    Добавляем наш приёмник в список целевых объектов нашего перемещаемого элемента.
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dropTarget</span>:<span class="ActionScriptOperator">*</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span>;
                    <span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">acceptDragDrop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dropTarget</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>                    
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - курсор с саженцем движется над миром.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">dragOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//    Проверяем изометрические ошибки при посадке.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">noIsoErrors</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkDropSeedErrors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Если нет ошибок разрешаем сажать(меняем курсор).
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">noIsoErrors</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showFeedback</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showFeedback</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">DragManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">NONE</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>    
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - преноска завершена(саженец бросили).
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">dragDropHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DragEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//     Извлекаем данные об объекте из хранилища перноса.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptOperator">*</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dragSource</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dataForFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"objectData"</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Сажаем саженец в мире.
</span>                <span class="ActionScriptDefault_Text">seedPlanting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sourceName</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Функция посадки саженеца в мире.
             *    objectName - имя саженца.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">seedPlanting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">objectName</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//    Создаем объект для передачи данных на сервер.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">time</span>:<span class="ActionScriptDefault_Text">Date</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Date</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lightBox</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">objectName</span>: <span class="ActionScriptDefault_Text">objectName</span><span class="ActionScriptOperator">,</span>
                    <span class="ActionScriptDefault_Text">plantedTime</span>: <span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">,</span>
                        <span class="ActionScriptDefault_Text">maturity</span>: 0<span class="ActionScriptOperator">,</span>
                        <span class="ActionScriptDefault_Text">x</span>: <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseX</span><span class="ActionScriptOperator">,</span>
                        <span class="ActionScriptDefault_Text">y</span>: <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseY</span><span class="ActionScriptBracket/Brace">}</span>;
                
                <span class="ActionScriptComment">//    Создаем новый граф-кий, изом-кий объект и добавляем его к миру.
</span>                <span class="ActionScriptComment">//    Продолжаем создавать объект для передачи данных на сервер.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">box</span>:<span class="ActionScriptDefault_Text">GraphicTile</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawTile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;
                <span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;
                
                
                <span class="ActionScriptComment">// Отправляем данные на сервер.
</span>                <span class="ActionScriptDefault_Text">seedingPlanted</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">send</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Помещаем сам изообъект в свою облегченную версию,
</span>                <span class="ActionScriptComment">//    для дальнейшего опознавания при изменении maturity
</span>                <span class="ActionScriptComment">//    так как при сортировке индексы объектов меняются,
</span>                <span class="ActionScriptComment">//    опознаем таким способом.
</span>                <span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">box</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">box</span>;
                
                <span class="ActionScriptComment">//    Устанавливаем таймер по которому объект будет рости.
</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">delay</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">objectName</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">period</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">repeatCount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">objectName</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">repeatCount</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">timer</span>:<span class="ActionScriptDefault_Text">Timer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Timer</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">delay</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">repeatCount</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Записываем таймер в объект, для возможности его отмены,
</span>                <span class="ActionScriptComment">//    при удалении саженца.
</span>                <span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">timer</span>;
                
                <span class="ActionScriptComment">//    Устанавливаем слушатель события взросления и
</span>                <span class="ActionScriptComment">//    передаем в него light объект, параметров может быть сколько угодно.    
</span>                <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">TimerEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TIMER</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">delegate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">growth</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lightBox</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - клика по иконке лопаты.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">showel_clickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//    Если включен режим удаления меняем курсор на лопату.
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">harvest</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeAllCursors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">harvest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">shovelCursor</span><span class="ActionScriptOperator">,</span> 2<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>25<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">harvest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptBracket/Brace">}</span>                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptASDoc">/**
             *    Обработчик - удаления объекта по клику на него.
             */</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeTile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">objectIndex</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">checkRemoveErrors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//    Если включен режим удаления и мы удаляем именно объект из мира.
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">harvest</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">objectIndex</span> <span class="ActionScriptOperator">&gt;=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">//    Получаем объект удаления.
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">box</span>:<span class="ActionScriptDefault_Text">GraphicTile</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">objectsWorld</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">objectIndex</span><span class="ActionScriptBracket/Brace">]</span>;
                    
                    <span class="ActionScriptComment">//    Удаляем объект из таймеров взросления из ДБ по времени высадки и из мира.
</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timer</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">removeSeed</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">send</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">plantedTime</span>: <span class="ActionScriptDefault_Text">box</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">plantedTime</span><span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">world</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeWorldelement</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">objectIndex</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Script&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;fx:Declarations&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">&lt;s:HTTPService id="loadPreviosWorld" method="POST" url="http://matmac.net/ferm/phpServerServices/getSeeds.php" result="loadPreviosWorld_resultHandler(event)"/&gt;    
        &lt;s:HTTPService id="seedingPlanted" method="POST" url="http://matmac.net/ferm/phpServerServices/addSeed.php"/&gt;
        &lt;s:HTTPService id="removeSeed" method="POST" url="http://matmac.net/ferm/phpServerServices/removeSeed.php"/&gt;</span><span class="MXMLComment">--&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;s:HTTPService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">loadPreviosWorld</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">POST</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://evening-sunset-7307.herokuapp.com/seeds/getSeeds</span><span class="MXMLDefault_Text">" result="</span><span class="ActionScriptDefault_Text">loadPreviosWorld_resultHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:HTTPService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">seedingPlanted</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">POST</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://evening-sunset-7307.herokuapp.com/seeds/addSeed</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:HTTPService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">removeSeed</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">POST</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">http://evening-sunset-7307.herokuapp.com/seeds/removeSeed</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
    <span class="MXMLSpecial_Tag">&lt;/fx:Declarations&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;s:Scroller</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:Group</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">group</span><span class="MXMLDefault_Text">" left="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" top="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">1565</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">908</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">    Фон трава.    </span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Image</span><span class="MXMLDefault_Text"> source="</span><span class="MXMLString">images/BG.jpg</span><span class="MXMLDefault_Text">" x="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            
            <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">    Саженцы(перетаскиваемые).    </span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Image</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">clover</span><span class="MXMLDefault_Text">"
                     x="</span><span class="MXMLString">50</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">700</span><span class="MXMLDefault_Text">" 
                     source="</span><span class="MXMLString">images/clover/Image 9.png</span><span class="MXMLDefault_Text">" 
                     mouseMove="</span><span class="ActionScriptDefault_Text">seed_dragStart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" 
                     </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Image</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">potato</span><span class="MXMLDefault_Text">"
                     x="</span><span class="MXMLString">154</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">696</span><span class="MXMLDefault_Text">" 
                     source="</span><span class="MXMLString">images/potato/Image 10.png</span><span class="MXMLDefault_Text">" 
                     mouseMove="</span><span class="ActionScriptDefault_Text">seed_dragStart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" 
                     </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Image</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">sunflower</span><span class="MXMLDefault_Text">"
                     x="</span><span class="MXMLString">260</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">647</span><span class="MXMLDefault_Text">" 
                     source="</span><span class="MXMLString">images/sunflower/Image 9.png</span><span class="MXMLDefault_Text">" 
                     mouseMove="</span><span class="ActionScriptDefault_Text">seed_dragStart</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" 
                     </span><span class="MXMLComponent_Tag">/&gt;</span>
            
            <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">    Кнопка удаления(лопата).    </span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Button</span><span class="MXMLDefault_Text"> x="</span><span class="MXMLString">388</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">674</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">104</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">104</span><span class="MXMLDefault_Text">" click="</span><span class="ActionScriptDefault_Text">showel_clickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                      icon="</span><span class="MXMLString">images/shovel.png</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>    
        <span class="MXMLComponent_Tag">&lt;/s:Group&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/s:Scroller&gt;</span>
<span class="MXMLComponent_Tag">&lt;/s:Application&gt;</span></pre></body>
</html>
